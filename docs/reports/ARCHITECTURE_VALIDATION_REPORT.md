# üìä –û—Ç—á–µ—Ç –æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

**–î–∞—Ç–∞:** 9 –¥–µ–∫–∞–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:** 3.0  
**–¶–µ–ª—å:** –ü–æ—à–∞–≥–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

---

## üìã –ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏

–î–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –∫–æ–¥ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –ø—Ä–æ–µ–∫—Ç–µ
- ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏** - –∫–æ–¥ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏–ª–∏ –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã
- ‚ùå **–ù–µ –Ω–∞—á–∞—Ç–æ** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

---

## 1. Overview / –û–±—â–∏–π –æ–±–∑–æ—Ä

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Yandex Market, VK Ads, 1C
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –≤–æ—Ä–æ–Ω–∫–µ: –†–µ–∫–ª–∞–º–∞ ‚Üí –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å ‚Üí 1–°-–ø—Ä–æ–¥–∞–∂–∏ ‚Üí –ú–∞—Ä–∂–∞
- –£—Å—Ç–æ–π—á–∏–≤–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è 3-5 –ª–µ—Ç

### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **Yandex Market API** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω (`server/routes/yandex.ts`)
- ‚úÖ **VK Ads API** - –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω (`server/routes/vk.ts`)
- ‚úÖ **1C Manual Upload** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`server/routes/oneC.ts`, `client/pages/Upload1C.tsx`)
- ‚úÖ **–í–æ—Ä–æ–Ω–∫–∞ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (`server/routes/analytics.ts`, `client/services/dataService.ts`)

### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

---

## 2. High-Level Architecture

### 2.1 Frontend (React)

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- React + TypeScript
- –°—Ç—Ä–∞–Ω–∏—Ü—ã: Dashboard, Marketing, Sales, Upload1C
- DataService –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ API —Ä–∞–±–æ—Ç—ã

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **React + TypeScript** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
- ‚úÖ **Dashboard.tsx** - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Marketing.tsx** - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Sales.tsx** - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Upload1C.tsx** - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **DataService** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`client/services/dataService.ts`)
- ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - Products, Stock, Settings, Reports, NotFound

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 2.2 Backend (Express.js)

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Express.js (TypeScript)
- –ü—Ä–∏–µ–º –∑–∞–ø—Ä–æ—Å–æ–≤ –æ—Ç —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –ó–∞–ø—Ä–æ—Å—ã –∫ –≤–Ω–µ—à–Ω–∏–º API (Yandex, VK)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VK —Ç–æ–∫–µ–Ω–∞–º–∏

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **Express.js** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`server/index.ts`)
- ‚úÖ **Yandex Routes** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (`server/routes/yandex.ts`)
- ‚úÖ **VK Routes** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (`server/routes/vk.ts`)
- ‚úÖ **Cache Manager** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`server/cache/cacheManager.ts`)
- ‚úÖ **VK Token Manager** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`server/utils/vkTokenManager.ts`)
- ‚úÖ **1C Routes** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (`server/routes/oneC.ts`)
- ‚úÖ **Analytics Routes** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (`server/routes/analytics.ts`)
- ‚úÖ **Dashboard Routes** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (`server/routes/dashboardRoutes.ts`)
- ‚úÖ **Settings Routes** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (`server/routes/settingsRoutes.ts`)
- ‚úÖ **Product Mapping Routes** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (`server/routes/productMapping.ts`)

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 2.3 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `client/` - Frontend
- `server/` - Backend
- `shared/` - –û–±—â–∏–π –∫–æ–¥

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **client/** - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ **server/** - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç
- ‚úÖ **shared/** - —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç
- ‚ö†Ô∏è **–û—Ç–ª–∏—á–∏–µ:** –í –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ —É–∫–∞–∑–∞–Ω–æ `vortex-home2/`, –Ω–æ –ø—Ä–æ–µ–∫—Ç —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω –≤ –∫–æ—Ä–µ–Ω—å

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢** (—Å —É—á–µ—Ç–æ–º —Ä–µ–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏)

---

## 3. Data Sources

### 3.1 Yandex Market API

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Yandex Market API v2
- –°—É—â–Ω–æ—Å—Ç–∏: –ö–∞–º–ø–∞–Ω–∏–∏, –ó–∞–∫–∞–∑—ã, –¢–æ–≤–∞—Ä—ã, –û—Å—Ç–∞—Ç–∫–∏, –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **API v2** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (`server/routes/yandex.ts`)
- ‚úÖ **getCampaigns** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/yandex/campaigns`)
- ‚úÖ **getOrders** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/yandex/orders`)
- ‚úÖ **getProducts** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/yandex/products`)
- ‚úÖ **getStocks** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/yandex/stocks`)
- ‚úÖ **getOrderStats** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/yandex/stats/orders`)
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `cacheManager`
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 3.2 VK Ads API

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- VK Ads API
- –°—É—â–Ω–æ—Å—Ç–∏: –†–µ–∫–ª–∞–º–Ω—ã–µ –ø–ª–∞–Ω—ã, –ö–∞–º–ø–∞–Ω–∏–∏, –ì—Ä—É–ø–ø—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π, –ë–∞–Ω–Ω–µ—Ä—ã, –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **API v2** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (`server/routes/vk.ts`)
- ‚úÖ **getAdPlans** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/vk/ad-plans`)
- ‚úÖ **getCampaigns** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/vk/campaigns`)
- ‚úÖ **getAdGroups** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/vk/ad-groups`)
- ‚úÖ **getBanners** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/vk/banners`)
- ‚úÖ **getStatistics** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/vk/statistics`)
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `cacheManager`
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `vkTokenManager`

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 3.3 1C (Manual Upload)

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –†—É—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —á–µ—Ä–µ–∑ CSV/XLSX
- –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã
- –í –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ: –ø—Ä–æ–¥–∞–∂–∏, —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç—å, –æ—Å—Ç–∞—Ç–∫–∏, —Ü–µ–Ω—ã

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (`client/pages/Upload1C.tsx`, `server/routes/oneC.ts`)
- ‚úÖ **–ü–∞—Ä—Å–µ—Ä Excel** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`client/services/excelParser.ts`, `server/services/oneCDataLoader.ts`)
- ‚úÖ **–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (`/api/1c/products`)
- ‚úÖ **–ü—Ä–æ–¥–∞–∂–∏** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (`/api/1c/sales`)
- ‚úÖ **–í–æ–∑–≤—Ä–∞—Ç—ã** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (`/api/1c/returns`)
- ‚úÖ **–û–±–æ—Ä–∞—á–∏–≤–∞–µ–º–æ—Å—Ç—å** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (`/api/1c/stock-turnover`)
- ‚úÖ **–ö–∞—Ç–µ–≥–æ—Ä–∏–∏** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (`/api/1c/categories`)
- ‚úÖ **–ò—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∑–æ–∫** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (`/api/1c/upload-history`)

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

---

## 4. Data Routing & API Layer

### 4.1 –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö Yandex Market ‚Üí UI

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
```
Yandex Market API ‚Üí server/routes/yandex.ts ‚Üí 
client/services/api/yandexClient.ts ‚Üí 
client/services/dataService.ts ‚Üí UI
```

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **server/routes/yandex.ts** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ **client/services/api/yandexClient.ts** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ **client/services/dataService.ts** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç yandexClient
- ‚úÖ **UI —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - –∏—Å–ø–æ–ª—å–∑—É—é—Ç dataService

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 4.2 –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö VK Ads ‚Üí UI

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ Yandex, —á–µ—Ä–µ–∑ vkTokenManager

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **server/routes/vk.ts** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ **client/services/api/vkClient.ts** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ **client/services/dataService.ts** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç vkClient
- ‚úÖ **vkTokenManager** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 4.3 API Endpoints

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ:

**Yandex Market:**
- `/api/yandex/campaigns` (TTL: 60 –º–∏–Ω)
- `/api/yandex/orders` (TTL: 5 –º–∏–Ω)
- `/api/yandex/products` (TTL: 30 –º–∏–Ω)
- `/api/yandex/stocks` (TTL: 15 –º–∏–Ω)
- `/api/yandex/stats/orders` (TTL: 5 –º–∏–Ω)

**VK Ads:**
- `/api/vk/ad-plans` (TTL: 30 –º–∏–Ω)
- `/api/vk/campaigns` (TTL: 15 –º–∏–Ω)
- `/api/vk/ad-groups` (TTL: 15 –º–∏–Ω)
- `/api/vk/banners` (TTL: 15 –º–∏–Ω)
- `/api/vk/statistics` (TTL: 10 –º–∏–Ω)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **–í—Å–µ Yandex endpoints** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ TTL
- ‚úÖ **–í—Å–µ VK endpoints** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ TTL
- ‚úÖ **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ endpoints:**
  - `/api/dashboard/summary` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
  - `/api/analytics/funnel` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
  - `/api/analytics/data-quality` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
  - `/api/1c/*` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
  - `/api/mapping/*` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
  - `/api/settings/*` - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢** (–¥–∞–∂–µ –±–æ–ª—å—à–µ —á–µ–º —Ç—Ä–µ–±—É–µ—Ç—Å—è)

### 4.4 –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç–æ–∫–µ–Ω—ã

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- In-memory –∫—ç—à —Å TTL
- –ö–ª—é—á–∏ –∫—ç—à–∞ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∑–∞–ø—Ä–æ—Å–∞
- –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞
- VK Token Manager —Å –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **Cache Manager** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`server/cache/cacheManager.ts`)
- ‚úÖ **TTL –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞** - –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `CACHE_TTL`
- ‚úÖ **–ö–ª—é—á–∏ –∫—ç—à–∞** - —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `yandex:orders:all:${date_from}:${date_to}`)
- ‚úÖ **–ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞** - –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- ‚úÖ **VK Token Manager** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`server/utils/vkTokenManager.ts`)
- ‚úÖ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ `refreshAccessToken`
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ .env** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

---

## 5. Data Model (Star Schema)

### 5.1 Fact Tables

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `fact_yandex_orders`
- `fact_vk_ads`
- `fact_1c_sales` (–Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É)
- `fact_1c_margin` (–Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É)
- `fact_stock` (–Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **FactYandexOrder** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/dataModel.ts`)
- ‚úÖ **FactVkAd** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/dataModel.ts`)
- ‚úÖ **Fact1cSale** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/dataModel.ts`)
- ‚úÖ **Fact1cMargin** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/dataModel.ts`)
- ‚úÖ **FactStockSnapshot** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/dataModel.ts`)
- ‚úÖ **Normalizers** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
  - `server/services/yandexNormalizer.ts` - `toFactYandexOrders`
  - `server/services/vkNormalizer.ts` - `toFactVkAds`
  - `server/services/oneCDataLoader.ts` - `normalizeOneCSalesToFacts`, `normalizeOneCStockToFactSnapshots`

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 5.2 Dimension Tables

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `dim_products`
- `dim_categories`
- `dim_campaigns`
- `dim_calendar`
- `dim_warehouses`
- `dim_price_types` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **DimProduct** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/dataModel.ts`)
- ‚úÖ **DimCategory** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/dataModel.ts`)
- ‚úÖ **DimCampaign** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/dataModel.ts`)
- ‚úÖ **DimCalendar** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/dataModel.ts`)
- ‚úÖ **DimWarehouse** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/dataModel.ts`)
- ‚úÖ **Normalizers** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
  - `normalizeOneCProductsToDimProducts` - –≤ `oneCDataLoader.ts`
  - `normalizeOneCCategoriesToDimCategories` - –≤ `oneCDataLoader.ts`
- ‚ùå **DimPriceTypes** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢** (DimPriceTypes –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π)

### 5.3 –°–≤—è–∑–∏ –º–µ–∂–¥—É —Ç–∞–±–ª–∏—Ü–∞–º–∏

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –°–≤—è–∑–∏ —á–µ—Ä–µ–∑ FK (product_id, campaign_id, warehouse_id, date)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **–°–≤—è–∑–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã** - –≤ —Ç–∏–ø–∞—Ö —á–µ—Ä–µ–∑ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –ø–æ–ª—è (`productId?: string`, `campaignId?: string`)
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ** - —Å–≤—è–∑–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ normalizers –∏ dataWarehouse
- ‚ö†Ô∏è **–ù–µ—Ç —è–≤–Ω–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ FK** - —Å–≤—è–∑–∏ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ, –Ω–µ enforced –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ç–∏–ø–æ–≤

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢** (–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å–≤—è–∑–∏)

---

## 6. KPI Framework (–ú–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –º–µ—Ç—Ä–∏–∫)

### 6.1 –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- ROAS = Revenue / Ad Spend
- CTR = (Clicks / Shows) √ó 100%
- CPC = Ad Spend / Clicks
- CPM = (Ad Spend / Shows) √ó 1,000
- Conversion Rate = (Orders / Clicks) √ó 100%

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **calcRoas** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/metrics.ts`)
- ‚úÖ **calcCtr** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/metrics.ts`)
- ‚úÖ **calcCpc** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/metrics.ts`)
- ‚úÖ **calcCpm** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/metrics.ts`)
- ‚úÖ **calcConversionRate** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/metrics.ts`)
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `dataService.ts`, `dashboardRoutes.ts`, `analytics.ts`
- ‚úÖ **–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–æ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 6.2 –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–¥–∞–∂ –∏ —Ç–æ–≤–∞—Ä–æ–≤

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- AOV = Total Revenue / Total Orders
- Revenue Share = (Product Revenue / Total Revenue) √ó 100%
- Average Price = Revenue / Quantity

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **calcAov** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/metrics.ts`)
- ‚úÖ **calcRevenueShare** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/metrics.ts`)
- ‚úÖ **calcAveragePrice** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/metrics.ts`)
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `dataService.ts`, `Dashboard.tsx`

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 6.3 –§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Margin = Revenue ‚àí Cost
- Margin % = Margin / Revenue √ó 100%
- Percent Change = ((Current - Previous) / Previous) √ó 100%

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **calcMargin** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/metrics.ts`)
- ‚úÖ **calcPercentChange** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/metrics.ts`)
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ `dataService.ts`, `Dashboard.tsx`

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

---

## 7. Time Periods & Aggregations

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–∏–æ–¥–æ–≤: 7d, 30d, 90d, ytd
- –§–æ—Ä–º—É–ª—ã —Ä–∞—Å—á–µ—Ç–∞ –ø–µ—Ä–∏–æ–¥–æ–≤
- –í –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ: –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º (YYYY-MM), –∫–≤–∞—Ä—Ç–∞–ª–∞–º (YYYY-QX)

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **getPeriodRange** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`shared/utils/periods.ts`)
- ‚úÖ **PERIOD_OPTIONS** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- ‚úÖ **7d, 30d, 90d, ytd** - –≤—Å–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `dataService.ts`, `dashboardRoutes.ts`, `analytics.ts`, `PeriodSelector.tsx`
- ‚ùå **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚ùå **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –∫–≤–∞—Ä—Ç–∞–ª–∞–º** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

#### –°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò** (–±–∞–∑–æ–≤—ã–µ –ø–µ—Ä–∏–æ–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç, –∞–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º/–∫–≤–∞—Ä—Ç–∞–ª–∞–º –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞)

---

## 8. Manual File Upload & 1C Integration Layer

### 8.1 –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
1. –í—ã–±–æ—Ä —Ñ–∞–π–ª–∞ (CSV/XLSX)
2. –í—ã–±–æ—Ä –ª–∏—Å—Ç–∞
3. –ß—Ç–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
4. –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫
5. –ü–∞—Ä—Å–∏–Ω–≥ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
6. –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
7. –ò–º–ø–æ—Ä—Ç

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **–í—ã–±–æ—Ä —Ñ–∞–π–ª–∞** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`Upload1C.tsx`)
- ‚úÖ **–í—ã–±–æ—Ä –ª–∏—Å—Ç–∞** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`excelParser.ts`, `Upload1C.tsx`)
- ‚úÖ **–ß—Ç–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (`excelParser.ts`)
- ‚úÖ **–ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`Upload1C.tsx`, `ColumnMapping`)
- ‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`excelParser.ts`, `oneCDataLoader.ts`)
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (`excelParser.ts`)
- ‚úÖ **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`Upload1C.tsx`)
- ‚úÖ **–ò–º–ø–æ—Ä—Ç** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`server/routes/oneC.ts` - `uploadProducts`)

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 8.2 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö 1C-—Ñ–∞–π–ª–æ–≤

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ: `code`, `name`
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ: `article`, `category`, `base_price`, `cost_price`, `brand`, `collection`

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **OneCProductRow** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/oneC.ts`)
- ‚úÖ **–í—Å–µ –ø–æ–ª—è** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- ‚úÖ **–ü–∞—Ä—Å–∏–Ω–≥** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `oneCDataLoader.ts`

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 8.3 –ú–∞–ø–ø–∏–Ω–≥ –∫–æ–ª–æ–Ω–æ–∫

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ColumnMapping` —Å –ø–æ–ª—è–º–∏: code, name, article, category, base_price, cost_price, brand, collection

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **ColumnMapping** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`Upload1C.tsx`)
- ‚úÖ **–í—Å–µ –ø–æ–ª—è** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- ‚úÖ **UI –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –≤ `Upload1C.tsx`

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 8.4 –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—à–∏–±–∫–∏

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (`code`)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π
- –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—à–∏–±–æ–∫: `{ row, field, error }`

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (`excelParser.ts`)
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —á–∏—Å–ª–æ–≤—ã—Ö –ø–æ–ª–µ–π** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (`excelParser.ts`)
- ‚úÖ **–§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (`excelParser.ts`)
- ‚úÖ **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (`Upload1C.tsx`)

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 8.5 –ò—Å—Ç–æ—Ä–∏—è –∑–∞–≥—Ä—É–∑–æ–∫

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å `UploadResult` —Å –ø–æ–ª—è–º–∏: id, filename, uploaded_at, user, status, total_rows, imported, updated, errors, errors_log

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **UploadResult** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`shared/types/oneC.ts`)
- ‚úÖ **–í—Å–µ –ø–æ–ª—è** - —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (`server/routes/oneC.ts` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ JSON)
- ‚úÖ **API endpoint** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`/api/1c/upload-history`)
- ‚úÖ **UI –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (`Upload1C.tsx` - –≤–∫–ª–∞–¥–∫–∞ "–ò—Å—Ç–æ—Ä–∏—è")

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

---

## 9. Cross-System Mapping (VK ‚Üí Yandex Market ‚Üí 1C)

### 9.1 –ú–∞–ø–ø–∏–Ω–≥ —Ç–æ–≤–∞—Ä–æ–≤

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ú–∞–ø–ø–∏–Ω–≥ Yandex Market (offerId, shopSku) ‚Üî 1C (–ö–æ–¥, –ê—Ä—Ç–∏–∫—É–ª)
- –ï–¥–∏–Ω—ã–π `product_id` –≤ `dim_products`
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1c_code ‚Üí shopSku ‚Üí offerId

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **ProductMapping** - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω (`server/routes/productMapping.ts`)
- ‚úÖ **API endpoints** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
  - `GET /api/mapping/products` - –ø–æ–ª—É—á–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–æ–≤
  - `POST /api/mapping/products` - —Å–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞
  - `POST /api/mapping/auto` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥
- ‚úÖ **UI –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`Upload1C.tsx` - –≤–∫–ª–∞–¥–∫–∞ "–°–≤—è–∑–∏ —Ç–æ–≤–∞—Ä–æ–≤")
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –º–∞–ø–ø–∏–Ω–≥** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (–ø–æ –∞—Ä—Ç–∏–∫—É–ª—É –∏ –Ω–∞–∑–≤–∞–Ω–∏—é)
- ‚ö†Ô∏è **–ï–¥–∏–Ω—ã–π product_id** - –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω, –Ω–æ –Ω–µ—Ç —è–≤–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ hash

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢** (–±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å)

### 9.2 –°–≤—è–∑—å –∑–∞–∫–∞–∑–æ–≤ –ú–∞—Ä–∫–µ—Ç–∞ –∏ –ø—Ä–æ–¥–∞–∂ 1–°

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- `fact_yandex_orders.order_id` ‚Üî `fact_1c_sales.external_order_id`

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **externalOrderId** - –ø–æ–ª–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –≤ `Fact1cSale`
- ‚ö†Ô∏è **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (—Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏ –≤ 1–° –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ –Ω–æ–º–µ—Ä–∞)

#### –°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò** (—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–≤—è–∑—å –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞)

### 9.3 –°–≤—è–∑—å —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π VK –∏ –∑–∞–∫–∞–∑–æ–≤

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –õ–æ–≥–∏—á–µ—Å–∫–∞—è –≤–æ—Ä–æ–Ω–∫–∞: fact_vk_ads ‚Üí fact_yandex_orders ‚Üí fact_1c_sales
- –°–≤—è–∑—å –ø–æ –ø–µ—Ä–∏–æ–¥—É (date), –∫–∞–º–ø–∞–Ω–∏—è–º

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **–í–æ—Ä–æ–Ω–∫–∞** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (`server/routes/analytics.ts` - `getFunnel`)
- ‚úÖ **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥—É** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚úÖ **–°–≤—è–∑—å –ø–æ –∫–∞–º–ø–∞–Ω–∏—è–º** - –ª–æ–≥–∏—á–µ—Å–∫–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚ö†Ô∏è **UTM-–º–µ—Ç–∫–∏** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ –±—É–¥—É—â–µ–º)

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢** (–±–∞–∑–æ–≤–∞—è –≤–æ—Ä–æ–Ω–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç)

### 9.4 –ö–∞—Ä—Ç–∞ –ø–æ–ª–µ–π

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π –º–µ–∂–¥—É Yandex, VK, 1C –∏ Data Model

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **Normalizers** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
  - `yandexNormalizer.ts` - –º–∞–ø–ø–∏–Ω–≥ Yandex ‚Üí Data Model
  - `vkNormalizer.ts` - –º–∞–ø–ø–∏–Ω–≥ VK ‚Üí Data Model
  - `oneCDataLoader.ts` - –º–∞–ø–ø–∏–Ω–≥ 1C ‚Üí Data Model

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

---

## 10. Deduplication & Data Quality

### 10.1 –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ –∫—ç—à

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ö–ª—é—á–∏ –∫—ç—à–∞ –≤–∫–ª—é—á–∞—é—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
- –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –≤ –∫—ç—à–µ - –∑–∞–ø—Ä–æ—Å –∫ API –Ω–µ –¥–µ–ª–∞–µ—Ç—Å—è

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **–ö–ª—é—á–∏ –∫—ç—à–∞** - —Ñ–æ—Ä–º–∏—Ä—É—é—Ç—Å—è —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `yandex:orders:all:${date_from}:${date_to}`)
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤–æ –≤—Å–µ—Ö —Ä–æ—É—Ç–∞—Ö (`yandex.ts`, `vk.ts`)
- ‚úÖ **–î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ –∫—ç—à

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

### 10.2 –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø—Ä–∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `order.id`

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `yandex.ts` (getOrders)
- ‚ö†Ô∏è **–Ø–≤–Ω–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ ID** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (–Ω–æ –∑–∞–∫–∞–∑—ã —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –º–∞—Å—Å–∏–≤, –¥—É–±–ª–∏–∫–∞—Ç—ã –º–∞–ª–æ–≤–µ—Ä–æ—è—Ç–Ω—ã)

#### –°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò** (–ø–∞–≥–∏–Ω–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç, —è–≤–Ω–∞—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞)

### 10.3 –î–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è –ø–æ ID

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–π –º–µ—Ç–æ–¥ `deduplicateOrders(orders: Order[]): Order[]`

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚ùå **–ú–µ—Ç–æ–¥ deduplicateOrders** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω

#### –°—Ç–∞—Ç—É—Å: ‚ùå **–ù–ï –ù–ê–ß–ê–¢–û**

### 10.4 Data Quality

#### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö
- –û—Ç—á–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **Data Quality Report** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`server/routes/analytics.ts` - `getDataQuality`)
- ‚úÖ **API endpoint** - `/api/analytics/data-quality`
- ‚úÖ **UI –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (`Stock.tsx` - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)

#### –°—Ç–∞—Ç—É—Å: ‚úÖ **–†–ï–ê–õ–ò–ó–û–í–ê–ù–û –ò –†–ê–ë–û–¢–ê–ï–¢**

---

## 11. Logging & Monitoring

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø–∞–¥–∞–Ω–∏–π/–ø—Ä–æ–º–∞—Ö–æ–≤ –∫—ç—à–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **Logger** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`server/utils/logger.ts`)
- ‚úÖ **logInfo, logWarn, logError** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ **logApiRequest** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ **logDataParse** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ö†Ô∏è **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** - —á–∞—Å—Ç–∏—á–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–æ—É—Ç–∞—Ö, –Ω–æ –Ω–µ –≤–µ–∑–¥–µ
- ‚ùå **Winston/Pino** - –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è (–±–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ console)
- ‚ùå **–¢–∞–±–ª–∏—Ü–∞ analytics_events** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞
- ‚ùå **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞

#### –°—Ç–∞—Ç—É—Å: ‚ö†Ô∏è **–¢–†–ï–ë–£–ï–¢ –î–û–†–ê–ë–û–¢–ö–ò** (–±–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –µ—Å—Ç—å, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã)

---

## 12. Future Extensions / Roadmap

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (–ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ):
1. –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è 1–° (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç)
2. RFM-–∞–Ω–∞–ª–∏–∑ –∫–ª–∏–µ–Ω—Ç–æ–≤
3. ABC/XYZ –∞–Ω–∞–ª–∏–∑ –Ω–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä—ã
4. Executive Dashboard
5. –û—Ç–¥–µ–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ë–î (ClickHouse / Postgres)
6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry, DataDog

#### –†–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- ‚úÖ **Executive Dashboard** - —á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (`Dashboard.tsx` - —Å–µ–∫—Ü–∏—è "Executive Overview")
- ‚ùå **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —ç–∫—Å–ø–æ—Ä—Ç 1–°** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω (—Ç–æ–ª—å–∫–æ —Ä—É—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
- ‚ùå **RFM-–∞–Ω–∞–ª–∏–∑** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ùå **ABC/XYZ –∞–Ω–∞–ª–∏–∑** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚ùå **–ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ë–î** - –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è in-memory –∫—ç—à)
- ‚ùå **Sentry/DataDog** - –Ω–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã

#### –°—Ç–∞—Ç—É—Å: ‚ùå **–ù–ï –ù–ê–ß–ê–¢–û** (–∫—Ä–æ–º–µ —á–∞—Å—Ç–∏ Executive Dashboard)

---

## üìä –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –ü–æ —Å—Ç–∞—Ç—É—Å–∞–º:
- ‚úÖ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç:** 9 —Ä–∞–∑–¥–µ–ª–æ–≤ (75%)
- ‚ö†Ô∏è **–¢—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏:** 3 —Ä–∞–∑–¥–µ–ª–∞ (25%)
- ‚ùå **–ù–µ –Ω–∞—á–∞—Ç–æ:** 1 —Ä–∞–∑–¥–µ–ª (8%) - —Ç–æ–ª—å–∫–æ Future Extensions

### –ü–æ —Ä–∞–∑–¥–µ–ª–∞–º:

| –†–∞–∑–¥–µ–ª | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≥—Ä–µ—Å—Å |
|--------|--------|----------|
| 1. Overview | ‚úÖ | 100% |
| 2. High-Level Architecture | ‚úÖ | 100% |
| 3. Data Sources | ‚úÖ | 100% |
| 4. Data Routing & API Layer | ‚úÖ | 100% |
| 5. Data Model (Star Schema) | ‚úÖ | 95% |
| 6. KPI Framework | ‚úÖ | 100% |
| 7. Time Periods & Aggregations | ‚ö†Ô∏è | 70% |
| 8. Manual File Upload & 1C | ‚úÖ | 100% |
| 9. Cross-System Mapping | ‚úÖ | 85% |
| 10. Deduplication & Data Quality | ‚ö†Ô∏è | 60% |
| 11. Logging & Monitoring | ‚ö†Ô∏è | 40% |
| 12. Future Extensions | ‚ùå | 10% |

---

## üîç –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –ü–†–û–ë–õ–ï–ú

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (—Ç—Ä–µ–±—É—é—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è):
1. **–ù–µ—Ç —è–≤–Ω–æ–π –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –ø–æ ID** (—Ä–∞–∑–¥–µ–ª 10.3) - –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –¥—É–±–ª–∏–∫–∞—Ç–∞–º –¥–∞–Ω–Ω—ã—Ö
2. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –≤–µ–∑–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è** (—Ä–∞–∑–¥–µ–ª 11) - —Å–ª–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã

### –ù–µ–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã (–º–æ–∂–Ω–æ –æ—Ç–ª–æ–∂–∏—Ç—å):
1. **–ê–≥—Ä–µ–≥–∞—Ü–∏—è –ø–æ –º–µ—Å—è—Ü–∞–º/–∫–≤–∞—Ä—Ç–∞–ª–∞–º** (—Ä–∞–∑–¥–µ–ª 7) - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∞—Å—å –Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É
2. **UTM-–º–µ—Ç–∫–∏** (—Ä–∞–∑–¥–µ–ª 9.3) - –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–ª–∏—Å—å –Ω–∞ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤—É
3. **Winston/Pino** (—Ä–∞–∑–¥–µ–ª 11) - —É–ª—É—á—à–µ–Ω–∏–µ, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ

### –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ):
1. **Future Extensions** (—Ä–∞–∑–¥–µ–ª 12) - —ç—Ç–æ roadmap, –Ω–µ —Ç–µ–∫—É—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

---

## ‚úÖ –í–´–í–û–î–´

### –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞: ‚úÖ **–•–û–†–û–®–û –†–ï–ê–õ–ò–ó–û–í–ê–ù**

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã
- ‚úÖ Star-schema –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞
- ‚úÖ KPI Framework –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Yandex, VK, 1C —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã

**–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚ö†Ô∏è –î–æ–±–∞–≤–∏—Ç—å —è–≤–Ω—É—é –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é –ø–æ ID
- ‚ö†Ô∏è –†–∞—Å—à–∏—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ö†Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—é –ø–æ –º–µ—Å—è—Ü–∞–º/–∫–≤–∞—Ä—Ç–∞–ª–∞–º
- ‚ö†Ô∏è –£–ª—É—á—à–∏—Ç—å —Å–≤—è–∑—å –∑–∞–∫–∞–∑–æ–≤ –ú–∞—Ä–∫–µ—Ç–∞ –∏ –ø—Ä–æ–¥–∞–∂ 1–°

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –î–æ–±–∞–≤–∏—Ç—å –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é –ø–æ ID –≤ —Ä–æ—É—Ç—ã
2. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –†–∞—Å—à–∏—Ä–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ logger –≤–æ –≤—Å–µ—Ö —Ä–æ—É—Ç–∞—Ö
3. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≥—Ä–µ–≥–∞—Ü–∏—é –ø–æ –º–µ—Å—è—Ü–∞–º/–∫–≤–∞—Ä—Ç–∞–ª–∞–º
4. –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –£–ª—É—á—à–∏—Ç—å —Å–≤—è–∑—å –∑–∞–∫–∞–∑–æ–≤ —á–µ—Ä–µ–∑ external_order_id

---

**–î–∞—Ç–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏:** 9 –¥–µ–∫–∞–±—Ä—è 2025  
**–í–∞–ª–∏–¥–∞—Ç–æ—Ä:** AI Assistant  
**–í–µ—Ä—Å–∏—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:** 3.0

