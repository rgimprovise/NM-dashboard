# üöÄ VK Ads API - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## ‚úÖ –ß—Ç–æ —É–∂–µ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- ‚úÖ –ü–æ–ª—É—á–µ–Ω VK Access Token
- ‚úÖ –ü–æ–ª—É—á–µ–Ω Refresh Token (–¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω Account ID: 8798776
- ‚úÖ –§–∞–π–ª—ã `.env` –∏ `config.py` –æ–±–Ω–æ–≤–ª–µ–Ω—ã

### 2. –°–æ–±—Ä–∞–Ω—ã –¥–∞–Ω–Ω—ã–µ
- ‚úÖ **19 —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –∫–∞–±–∏–Ω–µ—Ç–æ–≤**
- ‚úÖ **55 –∫–∞–º–ø–∞–Ω–∏–π**
- ‚úÖ **200 –≥—Ä—É–ø–ø –æ–±—ä—è–≤–ª–µ–Ω–∏–π**

–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ –ø–∞–ø–∫–µ: **`vk_data/`**

---

## üìÅ –°–æ–±—Ä–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

| –§–∞–π–ª | –†–∞–∑–º–µ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|--------|----------|
| `ad_plans.json` | 3.4 KB | –í—Å–µ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã |
| `ad_plan_current.json` | 0.2 KB | –¢–µ–∫—É—â–∏–π –∫–∞–±–∏–Ω–µ—Ç (8798776) |
| `campaigns.json` | 2.1 KB | –°–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π |
| `ad_groups.json` | 20.7 KB | –ì—Ä—É–ø–ø—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π |

---

## üéØ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

### –í Power BI Desktop:

1. **–û—Ç–∫—Ä–æ–π—Ç–µ Power BI Desktop**

2. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–∞–º–ø–∞–Ω–∏–∏:**
   - –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ ‚Üí JSON
   - –í—ã–±–µ—Ä–∏—Ç–µ `vk_data/campaigns.json`
   - –í Power Query —Ä–∞—Å–∫—Ä–æ–π—Ç–µ –ø–æ–ª–µ `items`
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–æ–ª–±—Ü—ã: `id`, `name`, `package_id`

3. **–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≥—Ä—É–ø–ø—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π:**
   - –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ ‚Üí JSON
   - –í—ã–±–µ—Ä–∏—Ç–µ `vk_data/ad_groups.json`
   - –†–∞—Å–∫—Ä–æ–π—Ç–µ –ø–æ–ª–µ `items`

4. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:**
   - –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–º–ø–∞–Ω–∏–π
   - –°–ø–∏—Å–æ–∫ –∫–∞–º–ø–∞–Ω–∏–π –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≥—Ä—É–ø–ø –ø–æ –∫–∞–º–ø–∞–Ω–∏—è–º

### –í Excel:

1. –û—Ç–∫—Ä–æ–π—Ç–µ Excel
2. **–î–∞–Ω–Ω—ã–µ** ‚Üí **–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ** ‚Üí **–ò–∑ —Ñ–∞–π–ª–∞** ‚Üí **–ò–∑ JSON**
3. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π JSON —Ñ–∞–π–ª
4. Excel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –≤ —Ç–∞–±–ª–∏—Ü—É

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### –í—Ä—É—á–Ω—É—é:

```bash
cd "/Users/rostislavgolivetc/API test"
python3 collect_vk_data_v2.py
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ (—Ä–∞–∑ –≤ 24 —á–∞—Å–∞):

```bash
python3 get_vk_access_token.py
```

---

## üìä –ü—Ä–∏–º–µ—Ä—ã –∞–Ω–∞–ª–∏–∑–∞

### –ê–Ω–∞–ª–∏–∑ –∫–∞–º–ø–∞–Ω–∏–π:

**–í–æ–ø—Ä–æ—Å—ã –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è:**
- –°–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∫–∞–º–ø–∞–Ω–∏–π?
- –ö–∞–∫–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏ –ø–æ –≥–æ—Ä–æ–¥–∞–º (–ï–≥–æ—Ä—å–µ–≤—Å–∫, –®–∞—Ç—É—Ä–∞, –û—Ä–µ—Ö–æ–≤–æ-–ó—É–µ–≤–æ)?
- –°–∫–æ–ª—å–∫–æ –≥—Ä—É–ø–ø –æ–±—ä—è–≤–ª–µ–Ω–∏–π –≤ –∫–∞–∂–¥–æ–π –∫–∞–º–ø–∞–Ω–∏–∏?

**–í Power BI —Å–æ–∑–¥–∞–π—Ç–µ:**
```DAX
–í—Å–µ–≥–æ –∫–∞–º–ø–∞–Ω–∏–π = COUNT(campaigns[id])
–°—Ä–µ–¥–Ω–∏—Ö –≥—Ä—É–ø–ø –Ω–∞ –∫–∞–º–ø–∞–Ω–∏—é = DIVIDE(COUNT(ad_groups[id]), COUNT(campaigns[id]))
```

### –ê–Ω–∞–ª–∏–∑ –ø–æ –≥–æ—Ä–æ–¥–∞–º:

–°–æ–∑–¥–∞–π—Ç–µ –≤—ã—á–∏—Å–ª—è–µ–º—ã–π —Å—Ç–æ–ª–±–µ—Ü:
```DAX
–ì–æ—Ä–æ–¥ = 
SWITCH(
    TRUE(),
    CONTAINSSTRING(campaigns[name], "–ï–≥–æ—Ä—å–µ–≤—Å–∫"), "–ï–≥–æ—Ä—å–µ–≤—Å–∫",
    CONTAINSSTRING(campaigns[name], "–®–∞—Ç—É—Ä–∞"), "–®–∞—Ç—É—Ä–∞",
    CONTAINSSTRING(campaigns[name], "–æ—Ä–µ—Ö–æ–≤–æ"), "–û—Ä–µ—Ö–æ–≤–æ-–ó—É–µ–≤–æ",
    "–î—Ä—É–≥–æ–µ"
)
```

---

## üé® –ü—Ä–∏–º–µ—Ä Dashboard

### –°–æ–∑–¥–∞–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–û–±–∑–æ—Ä –∫–∞–º–ø–∞–Ω–∏–π":

**–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏:**

1. **Card (–ö–∞—Ä—Ç–æ—á–∫–∞):**
   - –ó–Ω–∞—á–µ–Ω–∏–µ: `COUNT(campaigns[id])`
   - –ó–∞–≥–æ–ª–æ–≤–æ–∫: "–í—Å–µ–≥–æ –∫–∞–º–ø–∞–Ω–∏–π"

2. **Table (–¢–∞–±–ª–∏—Ü–∞):**
   - –°—Ç–æ–ª–±—Ü—ã: –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏, ID, package_id

3. **Pie Chart (–ö—Ä—É–≥–æ–≤–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞):**
   - Legend: –≥–æ—Ä–æ–¥ (–≤—ã—á–∏—Å–ª—è–µ–º—ã–π —Å—Ç–æ–ª–±–µ—Ü)
   - Values: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–∞–º–ø–∞–Ω–∏–π

4. **Bar Chart (–°—Ç–æ–ª–±—á–∞—Ç–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞):**
   - Axis: –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–º–ø–∞–Ω–∏–∏
   - Values: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä—É–ø–ø –æ–±—ä—è–≤–ª–µ–Ω–∏–π

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è:
```bash
python3 test_connection.py
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:
```bash
ls -lh vk_data/
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ JSON:
```bash
cat vk_data/campaigns.json | python3 -m json.tool
```

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç:** `VK_DATA_SUMMARY.md`
- **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–æ–∫–µ–Ω—É:** `–ò–ù–°–¢–†–£–ö–¶–ò–Ø_VK_TOKEN.md`
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:** [VK Ads API](https://ads.vk.com/doc/api/info)

---

## ‚ùì FAQ

**Q: –¢–æ–∫–µ–Ω –ø–µ—Ä–µ—Å—Ç–∞–ª —Ä–∞–±–æ—Ç–∞—Ç—å**  
A: –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç 24 —á–∞—Å–∞. –û–±–Ω–æ–≤–∏—Ç–µ: `python3 get_vk_access_token.py`

**Q: –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã—Ö (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏, –∫–æ–Ω–≤–µ—Ä—Å–∏–π)**  
A: –ù–µ–∫–æ—Ç–æ—Ä—ã–µ endpoints API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã –∏–ª–∏ —Ç—Ä–µ–±—É—é—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏. –†–∞–±–æ—Ç–∞–µ–º –Ω–∞–¥ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞.

**Q: –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –ø–æ–∫–∞–∑–∞–º/–∫–ª–∏–∫–∞–º?**  
A: –°–µ–π—á–∞—Å VK Ads API v2 –º–æ–∂–µ—Ç —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –º–µ—Ç–æ–¥ –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏. –ò–∑—É—á–∞–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é.

**Q: –ú–æ–∂–Ω–æ –ª–∏ —Å–æ–±—Ä–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥?**  
A: –î–∞, –≤ –±—É–¥—É—â–∏—Ö –≤–µ—Ä—Å–∏—è—Ö –¥–æ–±–∞–≤–∏–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã date_from –∏ date_to.

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ VK Ads –≥–æ—Ç–æ–≤—ã –∫ –∏–º–ø–æ—Ä—Ç—É –≤ Power BI!

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥:** –û—Ç–∫—Ä–æ–π—Ç–µ Power BI Desktop –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –∏–∑ –ø–∞–ø–∫–∏ `vk_data/`

---

**–£–¥–∞—á–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞! üìä**

