# üìä API Data Collector –¥–ª—è Power BI Dashboard

–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ **VK Ads API** –∏ **Yandex Market API** –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Power BI Azure Dashboard.

**–í–µ—Ä—Å–∏—è:** 2.1  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 15 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready  
**–ù–æ–≤–æ–µ:** üìä –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON, CSV –∏ XLSX

---

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Yandex Market API
- ‚úÖ –ö–∞–º–ø–∞–Ω–∏–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞
- ‚úÖ –¢–æ–≤–∞—Ä—ã (–æ—Ñ—Ñ–µ—Ä—ã) –∏ –∫–∞—Ä—Ç–æ—á–∫–∏
- ‚úÖ –¶–µ–Ω—ã –∏ –æ—Å—Ç–∞—Ç–∫–∏
- ‚úÖ –ó–∞–∫–∞–∑—ã (–≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã)
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂
- ‚úÖ –û—Ç–∑—ã–≤—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π
- ‚úÖ –í–æ–∑–≤—Ä–∞—Ç—ã
- ‚úÖ –°–∫–ª–∞–¥—ã –∏ –¥–æ—Å—Ç–∞–≤–∫–∞

### VK Ads API v2
- ‚úÖ –†–µ–∫–ª–∞–º–Ω—ã–µ –∫–∞–±–∏–Ω–µ—Ç—ã (19 –∫–∞–±–∏–Ω–µ—Ç–æ–≤)
- ‚úÖ –ö–∞–º–ø–∞–Ω–∏–∏ (55 –∫–∞–º–ø–∞–Ω–∏–π)
- ‚úÖ –ì—Ä—É–ø–ø—ã –æ–±—ä—è–≤–ª–µ–Ω–∏–π (200 –≥—Ä—É–ø–ø)
- ‚úÖ –û–±—ä—è–≤–ª–µ–Ω–∏—è
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø–æ–∫–∞–∑—ã, –∫–ª–∏–∫–∏, —Ä–∞—Å—Ö–æ–¥—ã)
- ‚úÖ –ê—É–¥–∏—Ç–æ—Ä–∏–∏
- ‚úÖ –ü–∏–∫—Å–µ–ª–∏

### üÜï QR Code Generator
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤ –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞–∑–º–µ—Ä–∞, —Ü–≤–µ—Ç–æ–≤ –∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏ –æ—à–∏–±–æ–∫
- ‚úÖ –ú–∞—Å—Å–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ CSV/TXT —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º —Å–æ–∑–¥–∞–Ω–∏—è
- ‚úÖ –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –∏ Python API

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
API test/
‚îú‚îÄ‚îÄ core/                          # –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ yandex_market_api.py      # API –∫–ª–∞—Å—Å –¥–ª—è Yandex Market
‚îÇ   ‚îú‚îÄ‚îÄ vk_ads_api_v2.py          # API –∫–ª–∞—Å—Å –¥–ª—è VK Ads v2
‚îÇ   ‚îú‚îÄ‚îÄ data_exporter.py          # –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON/CSV/Excel
‚îÇ   ‚îî‚îÄ‚îÄ load_env.py               # –ó–∞–≥—Ä—É–∑–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ scripts/                       # –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–µ —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ collect_yandex_data.py    # –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö Yandex Market
‚îÇ   ‚îú‚îÄ‚îÄ collect_vk_data_v2.py     # –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö VK Ads
‚îÇ   ‚îú‚îÄ‚îÄ get_vk_access_token.py    # –ü–æ–ª—É—á–µ–Ω–∏–µ VK —Ç–æ–∫–µ–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ get_yandex_campaign.py    # –ü–æ–ª—É—á–µ–Ω–∏–µ Yandex Campaign ID
‚îÇ   ‚îú‚îÄ‚îÄ test_connection.py        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –æ–±–æ–∏–º API
‚îÇ   ‚îú‚îÄ‚îÄ generate_qr_code.py       # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤ (–æ—Å–Ω–æ–≤–Ω–æ–π)
‚îÇ   ‚îú‚îÄ‚îÄ interactive_qr.py         # –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä QR-–∫–æ–¥–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ batch_qr_generator.py     # –ú–∞—Å—Å–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ example_qr_generator.py   # –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ docs/                          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ VK_QUICK_START.md         # –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç VK
‚îÇ   ‚îú‚îÄ‚îÄ VK_DATA_SUMMARY.md        # –û–ø–∏—Å–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö VK
‚îÇ   ‚îú‚îÄ‚îÄ YANDEX_API_METHODS_FULL.md# –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –º–µ—Ç–æ–¥–æ–≤ Yandex
‚îÇ   ‚îú‚îÄ‚îÄ –§–ò–ù–ê–õ–¨–ù–´–ô_–û–¢–ß–ï–¢_VK.md     # –ü–æ–ª–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ VK
‚îÇ   ‚îú‚îÄ‚îÄ PROJECT_AUDIT.md          # –ê—É–¥–∏—Ç –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ QR_CODE_GENERATOR_GUIDE.md# –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ QR-–∫–æ–¥–∞–º
‚îÇ
‚îú‚îÄ‚îÄ data/                          # –°–æ–±—Ä–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ vk_data/                  # –î–∞–Ω–Ω—ã–µ VK Ads (JSON, CSV, XLSX)
‚îÇ   ‚îú‚îÄ‚îÄ yandex_data/              # –î–∞–Ω–Ω—ã–µ Yandex Market (JSON, CSV, XLSX)
‚îÇ   ‚îî‚îÄ‚îÄ qr_codes/                 # –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ QR-–∫–æ–¥—ã
‚îÇ
‚îú‚îÄ‚îÄ config.py                      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–æ–∫–µ–Ω—ã, ID)
‚îú‚îÄ‚îÄ .env                          # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt               # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ .gitignore                    # Git ignore
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
pip install -r requirements.txt
```

**–¢—Ä–µ–±—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
- `requests` - HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ API
- `pandas` - –†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏ –∏ —ç–∫—Å–ø–æ—Ä—Ç –≤ CSV
- `openpyxl` - –≠–∫—Å–ø–æ—Ä—Ç –≤ Excel (XLSX)
- `qrcode[pil]` - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Yandex Market API

```bash
# –ü–æ–ª—É—á–∏—Ç—å Campaign ID –∏ –æ–±–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
python3 scripts/get_yandex_campaign.py
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç —Ç–æ–∫–µ–Ω
- –ü–æ–ª—É—á–∏—Ç —Å–ø–∏—Å–æ–∫ –º–∞–≥–∞–∑–∏–Ω–æ–≤ (–∫–∞–º–ø–∞–Ω–∏–π)
- –û–±–Ω–æ–≤–∏—Ç `config.py` –∏ `.env`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ VK Ads API

```bash
# –ü–æ–ª—É—á–∏—Ç—å Access Token —á–µ—Ä–µ–∑ OAuth2
python3 scripts/get_vk_access_token.py
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –í—ã–ø–æ–ª–Ω–∏—Ç OAuth2 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é
- –ü–æ–ª—É—á–∏—Ç Access Token –∏ Refresh Token
- –ü–æ–ª—É—á–∏—Ç Account ID
- –û–±–Ω–æ–≤–∏—Ç `config.py` –∏ `.env`

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

```bash
python3 scripts/test_connection.py
```

### 5. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö

**Yandex Market:**
```bash
python3 scripts/collect_yandex_data.py
```

**VK Ads:**
```bash
python3 scripts/collect_vk_data_v2.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –î–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ 3 —Ñ–æ—Ä–º–∞—Ç–æ–≤:
- üìÑ **JSON** - –¥–ª—è Power BI –∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- üìä **CSV** - –¥–ª—è Excel, Google Sheets –∏ –∞–Ω–∞–ª–∏–∑–∞
- üìà **XLSX** - –æ–¥–∏–Ω —Ñ–∞–π–ª —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö –ª–∏—Å—Ç–∞—Ö

### 6. üÜï –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–æ–≤

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**
```bash
# –ü—Ä–æ—Å—Ç–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
cd scripts
python3 generate_qr_code.py "https://example.com"

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
python3 interactive_qr.py

# –ú–∞—Å—Å–æ–≤–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ CSV
python3 batch_qr_generator.py ../data/qr_codes/example_urls.csv --column url --name-column name
```

**–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [QUICK_START_QR.md](QUICK_START_QR.md)

---

## üìä –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

### ‚úÖ Yandex Market API
- **–°—Ç–∞—Ç—É—Å:** 200 OK
- **–ú–∞–≥–∞–∑–∏–Ω–æ–≤:** 6
- **–¢–µ–∫—É—â–∞—è –∫–∞–º–ø–∞–Ω–∏—è:** 21621656 (–ù–µ–¥–æ—Ä–æ–≥–∞—è-–º–µ–±–µ–ª—å.–†–§)
- **–§–æ—Ä–º–∞—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:** `Api-Key: YOUR_TOKEN`

### ‚úÖ VK Ads API
- **–°—Ç–∞—Ç—É—Å:** 200 OK
- **–ö–∞–±–∏–Ω–µ—Ç–æ–≤:** 19
- **–ö–∞–º–ø–∞–Ω–∏–π:** 55
- **–ì—Ä—É–ø–ø –æ–±—ä—è–≤–ª–µ–Ω–∏–π:** 200
- **–¢–µ–∫—É—â–∏–π –∫–∞–±–∏–Ω–µ—Ç:** 8798776 (–†–µ–∫–ª–∞–º–∞ –Ω–∞ –∫—É—Ö–Ω–∏ / –≤—Å–µ –≥–æ—Ä–æ–¥–∞)
- **–§–æ—Ä–º–∞—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏:** `Authorization: Bearer YOUR_TOKEN`

---

## üîë –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –§–∞–π–ª `config.py`

```python
# Yandex Market
YANDEX_OAUTH_TOKEN = "ACMA:..."
YANDEX_CAMPAIGN_ID = "21621656"

# VK Ads
VK_CLIENT_ID = "b9AHG7669xtg1nvq"
VK_CLIENT_SECRET = "..."
VK_ACCESS_TOKEN = "..."
VK_ACCOUNT_ID = "8798776"
```

### –§–∞–π–ª `.env`

–î—É–±–ª–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ `config.py` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.

---

## üìä –§–æ—Ä–º–∞—Ç—ã —ç–∫—Å–ø–æ—Ä—Ç–∞

–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ —Ç—Ä–µ—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö:

### 1. JSON (–¥–µ—Ç–∞–ª—å–Ω—ã–π)
```
data/yandex_data/campaigns.json
data/vk_data/campaigns.json
```
- –ü–æ–ª–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- –í–ª–æ–∂–µ–Ω–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
- –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è Power BI

### 2. CSV (—Ç–∞–±–ª–∏—á–Ω—ã–π)
```
data/yandex_data/campaigns.csv
data/vk_data/campaigns.csv
```
- –ü—Ä–æ—Å—Ç–æ–π —Ç–∞–±–ª–∏—á–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- –õ–µ–≥–∫–æ –æ—Ç–∫—Ä—ã—Ç—å –≤ Excel
- –ë—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑

### 3. XLSX (–≤—Å–µ –≤ –æ–¥–Ω–æ–º)
```
data/yandex_data/yandex_market_data_full.xlsx
data/vk_data/vk_ads_data_full.xlsx
```
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ
- –†–∞–∑–Ω—ã–µ –ª–∏—Å—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏–∏

**üìö –ü–æ–¥—Ä–æ–±–Ω–µ–µ:** `docs/EXPORT_FORMATS_GUIDE.md`

---

## üìà –ò–º–ø–æ—Ä—Ç –≤ Power BI

### –í–∞—Ä–∏–∞–Ω—Ç 1: JSON (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ **Power BI Desktop**
2. **–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ** ‚Üí **JSON**
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª –∏–∑ `data/yandex_data/` –∏–ª–∏ `data/vk_data/`
4. –í **Power Query Editor**:
   - –†–∞—Å–∫—Ä–æ–π—Ç–µ –ø–æ–ª–µ `items` (–µ—Å–ª–∏ –µ—Å—Ç—å)
   - –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ —Å—Ç–æ–ª–±—Ü—ã
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### –í–∞—Ä–∏–∞–Ω—Ç 2: CSV (–ø—Ä–æ—Å—Ç–æ–π)

1. **–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ** ‚Üí **CSV**
2. –í—ã–±–µ—Ä–∏—Ç–µ `.csv` —Ñ–∞–π–ª
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
4. **–ó–∞–≥—Ä—É–∑–∏—Ç—å**

### –í–∞—Ä–∏–∞–Ω—Ç 3: Excel (–≤—Å–µ —Å—Ä–∞–∑—É)

1. **–ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ** ‚Üí **Excel**
2. –í—ã–±–µ—Ä–∏—Ç–µ `.xlsx` —Ñ–∞–π–ª
3. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –ª–∏—Å—Ç—ã
4. **–ó–∞–≥—Ä—É–∑–∏—Ç—å**

### –®–∞–≥ 2: –°–æ–∑–¥–∞–Ω–∏–µ –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Å–≤—è–∑–∏:**

```
Yandex Market:
- campaigns ‚Üí offers (–ø–æ campaign_id)
- offers ‚Üí orders (–ø–æ offer_id)
- orders ‚Üí order_stats (–ø–æ order_id)

VK Ads:
- ad_plans ‚Üí campaigns (–ø–æ plan_id)
- campaigns ‚Üí ad_groups (–ø–æ campaign_id)
- ad_groups ‚Üí statistics (–ø–æ group_id)
```

### –®–∞–≥ 3: –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (DAX)

```DAX
// –û–±—â–∞—è –≤—ã—Ä—É—á–∫–∞
Total_Revenue = SUM(orders[total_amount])

// –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–∫–∞–∑–æ–≤
Total_Orders = COUNT(orders[order_id])

// –°—Ä–µ–¥–Ω–∏–π —á–µ–∫
AOV = DIVIDE([Total_Revenue], [Total_Orders], 0)

// –†–∞—Å—Ö–æ–¥—ã –Ω–∞ —Ä–µ–∫–ª–∞–º—É
Ad_Spend = SUM(statistics[spent])

// ROAS (Return on Ad Spend)
ROAS = DIVIDE([Total_Revenue], [Ad_Spend], 0)

// –ö–æ–Ω–≤–µ—Ä—Å–∏—è
Conversion_Rate = DIVIDE([Total_Orders], SUM(statistics[clicks]), 0)
```

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### macOS/Linux (cron)

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å crontab
crontab -e

# –ó–∞–ø—É—Å–∫–∞—Ç—å –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ 6:00
0 6 * * * cd "/Users/rostislavgolivetc/API test" && python3 scripts/collect_yandex_data.py
0 6 * * * cd "/Users/rostislavgolivetc/API test" && python3 scripts/collect_vk_data_v2.py
```

### Windows (Task Scheduler)

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞–Ω–∏–π**
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ
3. –£–∫–∞–∂–∏—Ç–µ –ø—É—Ç—å –∫ Python –∏ —Å–∫—Ä–∏–ø—Ç—É
4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞

- **[VK_QUICK_START.md](docs/VK_QUICK_START.md)** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø–æ VK Ads
- **[YANDEX_API_METHODS_FULL.md](docs/YANDEX_API_METHODS_FULL.md)** - –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ Yandex API
- **[–§–ò–ù–ê–õ–¨–ù–´–ô_–û–¢–ß–ï–¢_VK.md](docs/–§–ò–ù–ê–õ–¨–ù–´–ô_–û–¢–ß–ï–¢_VK.md)** - –î–µ—Ç–∞–ª—å–Ω—ã–π –æ—Ç—á–µ—Ç –ø–æ VK –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **üÜï [QUICK_START_QR.md](QUICK_START_QR.md)** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –ø–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—É QR-–∫–æ–¥–æ–≤
- **üÜï [QR_CODE_GENERATOR_GUIDE.md](docs/QR_CODE_GENERATOR_GUIDE.md)** - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ QR-–∫–æ–¥–∞–º

### API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [Yandex Market Partner API](https://yandex.ru/dev/market/partner-api/doc/ru/)
- [VK Ads API v2](https://ads.vk.com/doc/api/info)

---

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from core import YandexMarketAPI, VKAdsAPIv2, DataExporter

# Yandex Market
yandex = YandexMarketAPI(api_key="...", campaign_id="...")
campaigns = yandex.get_campaigns()
orders = yandex.get_orders(status="DELIVERED")

# VK Ads
vk = VKAdsAPIv2(access_token="...", account_id="...")
campaigns = vk.get_campaigns()
stats = vk.get_statistics(
    metrics=["shows", "clicks", "spent"],
    dimensions=["date", "campaign_id"],
    date_from="2025-09-01",
    date_to="2025-10-15"
)

# –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
exporter = DataExporter()
exporter.save_to_json(campaigns, "output/campaigns.json")
exporter.save_to_csv(orders, "output/orders.csv")
```

---

## üîß Troubleshooting

### –û—à–∏–±–∫–∞ "Invalid token"
- **Yandex:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç `Api-Key:` (–Ω–µ `OAuth:`)
- **VK:** –¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç 24 —á–∞—Å–∞, –æ–±–Ω–æ–≤–∏—Ç–µ —á–µ—Ä–µ–∑ `get_vk_access_token.py`

### –û—à–∏–±–∫–∞ "Campaign not found"
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ `get_yandex_campaign.py` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ Campaign ID

### –ü—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–º–ø–∞–Ω–∏–∏ –∞–∫—Ç–∏–≤–Ω—ã

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `docs/PROJECT_AUDIT.md` –¥–ª—è –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `scripts/test_connection.py` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª–∏

---

## üéâ –û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è

- ‚úÖ **–ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:** –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –∏ —Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** 6 –º–∞–≥–∞–∑–∏–Ω–æ–≤ Yandex, 55 –∫–∞–º–ø–∞–Ω–∏–π VK
- ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ Production:** –í—Å–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Power BI Ready:** JSON —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø—Ä—è–º–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
- ‚úÖ **üÜï QR Code Generator:** –°–æ–∑–¥–∞–Ω–∏–µ QR-–∫–æ–¥–æ–≤ –¥–ª—è –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞ –∏ –±–∏–∑–Ω–µ—Å–∞

---

**MIT License** | –°–æ–∑–¥–∞–Ω–æ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Power BI Azure Dashboard  
**–ö–æ–Ω—Ç–∞–∫—Ç:** API Data Collector Project

